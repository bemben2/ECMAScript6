<!DOCTYPE html>
<html>

<head>
    <title>ES6 function and objects - async and fetch</title>

    <script type="text/javascript">
        window.onload = function () {
            const githubRequest = async (loginName) => {
                try {
                    var response = await fetch(`https://api.github.com/users/${loginName}/followers`);
                    var json = await response.json();
                    var followerList = json.map(user => user.login);
                    console.log(followerList);
                } catch (e) {
                    console.log("Data didn't load", e);
                }
            };

            githubRequest('bemben2');


            (async (loginName) => {
                try {
                    var response = await fetch(`https://api.github.com/users/${loginName}/followers`);
                    var json = await response.json();
                    var followerList = json.map(user => user.login);
                    console.log(followerList);
                } catch (e) {
                    console.log("Data didn't load", e);
                }
            })('bemben2');
        }
    </script>

</head>

</html>